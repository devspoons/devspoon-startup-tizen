!function(e){function n(n){for(var r,o,l=n[0],s=n[1],u=n[2],d=0,f=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(c&&c(n);f.length;)f.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,l=1;l<t.length;l++){var s=t[l];0!==a[s]&&(r=!1)}r&&(i.splice(n--,1),e=o(o.s=t[0]))}return e}var r={},a={6:0},i=[];function o(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=r,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=n,l=l.slice();for(var u=0;u<l.length;u++)n(l[u]);var c=s;i.push([50,0]),t()}({2:function(e,n,t){"use strict";var r=t(0),a=t.n(r),i=t(1),o=t.n(i),l=t(3),s=t.n(l),u={baseUrl:function(){var e=a()("head").attr("data-rooturl");return e||(e=""),e},stringify:function(e){if(!Array.prototype.toJSON)return JSON.stringify(e);var n={a:Array.prototype.toJSON,o:Object.prototype.toJSON,h:Hash.prototype.toJSON,s:String.prototype.toJSON};try{return delete Array.prototype.toJSON,delete Object.prototype.toJSON,delete Hash.prototype.toJSON,delete String.prototype.toJSON,JSON.stringify(e)}finally{n.a&&(Array.prototype.toJSON=n.a),n.o&&(Object.prototype.toJSON=n.o),n.h&&(Hash.prototype.toJSON=n.h),n.s&&(String.prototype.toJSON=n.s)}},goTo:function(e){o.a.getWindow().location.replace(u.baseUrl()+e)},get:function(e,n,t){var r={url:u.baseUrl()+e,type:"GET",cache:!1,dataType:"json",success:n};t instanceof Object&&a.a.extend(r,t),a.a.ajax(r)},post:function(e,n,t,r){var i,l={},s=o.a.getWindow();"crumb"in r?i=r.crumb:"crumb"in s&&(i=s.crumb),i&&(l[i.fieldName]=i.value);var c=n;c instanceof Object&&(i&&((c=a.a.extend({},c))[i.fieldName]=i.value),c=u.stringify(c));var d={url:u.baseUrl()+e,type:"POST",cache:!1,dataType:"json",data:c,contentType:"application/json",success:t,headers:l};r instanceof Object&&a.a.extend(d,r),a.a.ajax(d)},initHandlebars:function(){return s.a},loadTranslations:function(e,n,t){u.get("/i18n/resourceBundle?baseName="+e,(function(e){if("ok"!==e.status)throw t&&t(e.message),"Unable to load localization data: "+e.message;var r=e.data;"undefined"!=typeof Proxy&&(r=new Proxy(r,{get:function(e,n){return n in e?e[n]:n}})),n(r)}))},testConnectivity:function(e,n){!function t(){u.get("/updateCenter/connectionStatus?siteId="+e,(function(e){"ok"!==e.status&&n(!1,!0,e.message);var r=["PRECHECK","CHECKING","UNCHECKED"];r.indexOf(e.data.updatesite)>=0||r.indexOf(e.data.internet)>=0?setTimeout(t,100):"ok"!==e.status||"OK"!==e.data.updatesite||"OK"!==e.data.internet&&"SKIPPED"!==e.data.internet?n(!1,!1):n(!0)}),{error:function(e,t,r){403===e.status?u.goTo("/login"):n.call({isError:!0,errorMessage:r})}})}()},getWindow:function(e){e=a()(e);var n=o.a.getWindow();return a()(top.document).find("iframe").each((function(){var t=this.contentWindow;a()(this).contents().find("form").each((function(){e[0]===this&&(n=t)}))})),n},buildFormPost:function(e){e=a()(e);var n=u.getWindow(e),t=e[0];return n.buildFormTree(t)?e.serialize()+"&"+a.a.param({"core:apply":"",Submit:"Save",json:e.find("input[name=json]").val()}):""},getFormCrumb:function(e){return e=a()(e),u.getWindow(e).crumb},staplerPost:function(e,n,t,r){n=a()(n);var i=u.buildFormPost(n),o=u.getFormCrumb(n);u.post(e,i,t,a.a.extend({processData:!1,contentType:"application/x-www-form-urlencoded",crumb:o},r))}};n.a=u},35:function(e,n,t){var r=t(3);e.exports=(r.default||r).template({1:function(e,n,t,r){var a,i=this.lambda,o=this.escapeExpression;return"    <tr>\n"+(null!=(a=n.if.call(e,(a=r&&r.root)&&a.admin,{name:"if",hash:{},fn:this.program(2,r,0),inverse:this.noop,data:r}))?a:"")+'        <td class="pane">\n            <div>\n                <a href="'+o(i(null!=e?e.wiki:e,e))+'" target="_blank" rel="noopener noreferrer">\n                    '+o(i(null!=e?e.displayName:e,e))+"\n                </a>\n            </div>\n"+(null!=(a=n.if.call(e,null!=e?e.categories:e,{name:"if",hash:{},fn:this.program(4,r,0),inverse:this.noop,data:r}))?a:"")+(null!=(a=n.if.call(e,null!=e?e.excerpt:e,{name:"if",hash:{},fn:this.program(7,r,0),inverse:this.noop,data:r}))?a:"")+(null!=(a=n.if.call(e,null!=e?e.newerCoreRequired:e,{name:"if",hash:{},fn:this.program(9,r,0),inverse:this.noop,data:r}))?a:"")+(null!=(a=n.if.call(e,null!=e?e.dependenciesNewerJava:e,{name:"if",hash:{},fn:this.program(11,r,0),inverse:this.noop,data:r}))?a:"")+(null!=(a=n.if.call(e,null!=e?e.unresolvedSecurityWarnings:e,{name:"if",hash:{},fn:this.program(13,r,0),inverse:this.noop,data:r}))?a:"")+(null!=(a=n.if.call(e,null!=e?e.deprecated:e,{name:"if",hash:{},fn:this.program(16,r,0),inverse:this.noop,data:r}))?a:"")+(null!=(a=n.if.call(e,null!=e?e.adoptMe:e,{name:"if",hash:{},fn:this.program(18,r,0),inverse:this.noop,data:r}))?a:"")+(null!=(a=n.if.call(e,null!=e?e.newerVersionAvailableNotOffered:e,{name:"if",hash:{},fn:this.program(20,r,0),inverse:this.noop,data:r}))?a:"")+'        </td>\n        <td class="pane">\n            '+o(i(null!=e?e.version:e,e))+'\n        </td>\n        <td class="pane">\n'+(null!=(a=n.if.call(e,null!=e?e.releaseTimestamp:e,{name:"if",hash:{},fn:this.program(22,r,0),inverse:this.noop,data:r}))?a:"")+"        </td>\n    </tr>\n"},2:function(e,n,t,r){var a=this.lambda,i=this.escapeExpression;return'            <td class="pane">\n                <input type="checkbox" name="plugin.'+i(a(null!=e?e.name:e,e))+"."+i(a(null!=e?e.sourceId:e,e))+'">\n            </td>\n'},4:function(e,n,t,r){var a;return'                <div class="plugin-manager__categories">\n'+(null!=(a=n.each.call(e,null!=e?e.categories:e,{name:"each",hash:{},fn:this.program(5,r,0),inverse:this.noop,data:r}))?a:"")+"                </div>\n"},5:function(e,n,t,r){var a=this.lambda,i=this.escapeExpression;return'                        <a href="?filter='+i(a(e,e))+'" class="plugin-manager__category-label">\n                        '+i(a(e,e))+"\n                        </a>\n"},7:function(e,n,t,r){var a;return'                <div class="except">\n                    '+(null!=(a=this.lambda(null!=e?e.excerpt:e,e))?a:"")+"\n                </div>\n"},9:function(e,n,t,r){var a;return'                <div class="alert alert-danger">\n                    '+(null!=(a=this.lambda(null!=e?e.newerCoreRequired:e,e))?a:"")+"\n                </div>\n"},11:function(e,n,t,r){var a;return'                <div class="alert alert-danger">\n                    '+(null!=(a=this.lambda(null!=e?e.dependenciesNewerJava:e,e))?a:"")+"\n                </div>\n"},13:function(e,n,t,r){var a;return'                <div class="alert alert-danger">\n                    '+this.escapeExpression(this.lambda(null!=(a=null!=e?e.unresolvedSecurityWarnings:e)?a.text:a,e))+"\n                    <ul>\n"+(null!=(a=n.each.call(e,null!=(a=null!=e?e.unresolvedSecurityWarnings:e)?a.warnings:a,{name:"each",hash:{},fn:this.program(14,r,0),inverse:this.noop,data:r}))?a:"")+"                    </ul>\n                </div>\n"},14:function(e,n,t,r){var a=this.lambda,i=this.escapeExpression;return'                            <li>\n                                <a href="'+i(a(null!=e?e.url:e,e))+'" target="_blank" rel="noopener noreferrer">\n                                    '+i(a(null!=e?e.message:e,e))+"\n                                </a>\n                            </li>\n"},16:function(e,n,t,r){var a;return'                <div class="alert alert-warning">\n                    '+(null!=(a=this.lambda(null!=e?e.deprecated:e,e))?a:"")+"\n                </div>\n"},18:function(e,n,t,r){var a;return'                <div class="alert alert-warning">\n                    '+(null!=(a=this.lambda(null!=e?e.adoptMe:e,e))?a:"")+"\n                </div>\n"},20:function(e,n,t,r){var a;return'                <div class="alert alert-info">\n                    '+(null!=(a=this.lambda(null!=e?e.newerVersionAvailableNotOffered:e,e))?a:"")+"\n                </div>\n"},22:function(e,n,t,r){var a,i=this.lambda,o=this.escapeExpression;return'                <time datetime="'+o(i(null!=(a=null!=e?e.releaseTimestamp:e)?a.iso8601:a,e))+'">\n                    '+o(i(null!=(a=null!=e?e.releaseTimestamp:e)?a.displayValue:a,e))+"\n                </time>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,n,t,r){var a;return null!=(a=n.each.call(e,null!=e?e.plugins:e,{name:"each",hash:{},fn:this.program(1,r,0),inverse:this.noop,data:r}))?a:""},useData:!0})},5:function(e,n,t){"use strict";var r,a=t(2),i={initialPluginList:function(e){a.a.get("/setupWizard/platformPluginList",(function(n){"ok"===n.status?e.call({isError:!1},n.data):e.call({isError:!0,data:n.data})}),{timeout:o,error:function(n,t,r){e.call({isError:!0,errorMessage:r})}})},init:function(e){i.initialPluginList((function(n){(r={}).names=[],r.recommendedPlugins=[],r.availablePlugins=n;for(var t=0;t<n.length;t++)for(var a=n[t],i=a.plugins,o=0;o<i.length;o++){var l=i[o],s=l.name;if(-1===r.names.indexOf(s))if(r.names.push(s),l.suggested)r.recommendedPlugins.push(s);else if("Languages"===a.category){s==="localization-"+(window.navigator.userLanguage||window.navigator.language).toLocaleLowerCase()&&r.recommendedPlugins.push(s)}}e()}))}},o=1e4;i.plugins=function(){return r.availablePlugins},i.pluginNames=function(){return r.names},i.recommendedPluginNames=function(){return r.recommendedPlugins.slice()},i.installPlugins=function(e,n){a.a.post("/pluginManager/installPlugins",{dynamicLoad:!0,plugins:e},(function(e){"ok"===e.status?n.call({isError:!1},e.data.correlationId):n.call({isError:!0,errorMessage:e.message})}),{timeout:o,error:function(e,t,r){n.call({isError:!0,errorMessage:r})}})},i.installStatus=function(e,n){var t="/updateCenter/installStatus";void 0!==n&&(t+="?correlationId="+n),a.a.get(t,(function(n){"ok"===n.status?e.call({isError:!1},n.data):e.call({isError:!0,errorMessage:n.message})}),{timeout:o,error:function(n,t,r){e.call({isError:!0,errorMessage:r})}})},i.availablePlugins=function(e){a.a.get("/pluginManager/plugins",(function(n){"ok"===n.status?e.call({isError:!1},n.data):e.call({isError:!0,errorMessage:n.message})}),{timeout:o,error:function(n,t,r){e.call({isError:!0,errorMessage:r})}})},i.availablePluginsSearch=function(e,n,t){a.a.get("/pluginManager/pluginsSearch?query="+e+"&limit="+n,(function(e){"ok"===e.status?t.call({isError:!1},e.data):t.call({isError:!0,errorMessage:e.message})}),{timeout:o,error:function(e,n,r){t.call({isError:!0,errorMessage:r})}})},i.incompleteInstallStatus=function(e,n){var t="/updateCenter/incompleteInstallStatus";void 0!==n&&(t+="?correlationId="+n),a.a.get(t,(function(n){"ok"===n.status?e.call({isError:!1},n.data):e.call({isError:!0,errorMessage:n.message})}),{timeout:o,error:function(n,t,r){e.call({isError:!0,errorMessage:r})}})},i.completeInstall=function(e){a.a.post("/setupWizard/completeInstall",{},(function(){e.call({isError:!1})}),{timeout:o,error:function(n,t,r){e.call({isError:!0,message:r})}})},i.getRestartStatus=function(e){a.a.get("/setupWizard/restartStatus",(function(n){e.call({isError:!1},n.data)}),{timeout:o,error:function(n,t,r){e.call({isError:!0,message:r})}})},i.installPluginsDone=function(e){a.a.post("/pluginManager/installPluginsDone",{},(function(){e()}),{timeout:o,error:function(n,t,r){e.call({isError:!0,message:r})}})},i.restartJenkins=function(e){a.a.post("/updateCenter/safeRestart",{},(function(){e.call({isError:!1})}),{timeout:o,error:function(n,t,r){e.call({isError:!0,message:r})}})},n.a=i},50:function(e,n,t){t(51),e.exports=t(60)},51:function(e,n,t){"use strict";t.r(n);var r=t(35),a=t.n(r),i=t(5),o=t(36);function l(e){i.a.availablePluginsSearch(e.toLowerCase().trim(),50,(function(e){var n=document.getElementById("plugins"),t=n.querySelector("tbody"),r=[],i="true"===n.dataset.hasadmin;!function(){if(i){var e=t.querySelectorAll("tr");e&&(r=[],e.forEach((function(e){var n=e.querySelector("input");if(!0===n.checked){var t=n.name.split(".")[1];r.push(t)}else e.remove()})))}else t.innerHTML=""}();var o=a()({plugins:e.filter((function(e){return!r.includes(e.name)})),admin:i});t.insertAdjacentHTML("beforeend",o)}))}var s=t.n(o)()((function(e){l(e.target.value)}),150);document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("filter-box");e.addEventListener("input",s),l(e.value),setTimeout((function(){layoutUpdateCallback.call()}),350)}))},60:function(e,n,t){var r=t(8),a=t(61);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);e.exports=a.locals||{}},61:function(e,n,t){}});
//# sourceMappingURL=plugin-manager-ui.js.map